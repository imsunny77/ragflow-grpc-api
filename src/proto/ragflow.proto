syntax = "proto3";

package ragflow;

// Basic message types
message StatusResponse {
  bool status = 1;
  string message = 2;
  optional string data = 3;
}

message CreateKnowledgeBaseRequest {
  string name = 1;
  optional string description = 2;
}

message CreateKnowledgeBaseResponse {
  bool status = 1;
  string message = 2;
  optional string kb_id = 3;
}

message UploadDocumentRequest {
  string kb_id = 1;
  bytes file_data = 2;
  string filename = 3;
}

message ChatRequest {
  string kb_id = 1;
  string question = 2;
}

message ChatResponse {
  bool status = 1;
  string message = 2;
  optional string answer = 3;
}

// gRPC Service Definition
service RagServices {
  rpc CreateKnowledgeBase(CreateKnowledgeBaseRequest) returns (CreateKnowledgeBaseResponse);
  rpc UploadDocument(UploadDocumentRequest) returns (StatusResponse);
  rpc Chat(ChatRequest) returns (ChatResponse);
}